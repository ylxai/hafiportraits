"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src/middleware",{

/***/ "(middleware)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authenticateUser: () => (/* binding */ authenticateUser),\n/* harmony export */   cleanupExpiredSessions: () => (/* binding */ cleanupExpiredSessions),\n/* harmony export */   createDefaultAdminUsers: () => (/* binding */ createDefaultAdminUsers),\n/* harmony export */   createSession: () => (/* binding */ createSession),\n/* harmony export */   destroySession: () => (/* binding */ destroySession),\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   hasPermission: () => (/* binding */ hasPermission),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   initializeAuth: () => (/* binding */ initializeAuth),\n/* harmony export */   logActivity: () => (/* binding */ logActivity),\n/* harmony export */   validateSession: () => (/* binding */ validateSession),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(middleware)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(middleware)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/supabase-js */ \"(middleware)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/**\n * Authentication Utilities\n * HafiPortrait Admin Authentication System\n */ \n\n\n// Create Supabase client with service role key for admin operations\nconst supabaseUrl = \"https://azspktldiblhrwebzmwq.supabase.co\";\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__.createClient)(supabaseUrl, supabaseServiceKey, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n});\nconst JWT_SECRET = process.env.JWT_SECRET || \"hafiportrait-secret-key-change-in-production\";\nconst SESSION_DURATION = 24 * 60 * 60 * 1000; // 24 hours\n/**\n * Hash password using bcrypt\n */ async function hashPassword(password) {\n    const saltRounds = 12;\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(password, saltRounds);\n}\n/**\n * Verify password against hash\n */ async function verifyPassword(password, hash) {\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].compare(password, hash);\n}\n/**\n * Generate JWT token\n */ function generateToken(userId, username) {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign({\n        userId,\n        username\n    }, JWT_SECRET, {\n        expiresIn: \"24h\"\n    });\n}\n/**\n * Verify JWT token\n */ function verifyToken(token) {\n    try {\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, JWT_SECRET);\n        return {\n            userId: decoded.userId,\n            username: decoded.username\n        };\n    } catch (error) {\n        return null;\n    }\n}\n/**\n * Create admin users with hashed passwords\n */ async function createDefaultAdminUsers() {\n    const defaultUsers = [\n        {\n            username: \"hafi\",\n            password: \"Hantu@112233\",\n            email: \"hafi@hafiportrait.com\",\n            full_name: \"Hafi Portrait\"\n        },\n        {\n            username: \"nandika\",\n            password: \"Hantu@112233\",\n            email: \"nandika@hafiportrait.com\",\n            full_name: \"Nandika\"\n        }\n    ];\n    for (const user of defaultUsers){\n        try {\n            // Check if user already exists\n            const { data: existingUser } = await supabaseAdmin.from(\"admin_users\").select(\"id\").eq(\"username\", user.username).single();\n            if (!existingUser) {\n                const hashedPassword = await hashPassword(user.password);\n                const { error } = await supabaseAdmin.from(\"admin_users\").insert({\n                    username: user.username,\n                    password_hash: hashedPassword,\n                    email: user.email,\n                    full_name: user.full_name,\n                    role: \"superadmin\"\n                });\n                if (error) {\n                    console.error(`Error creating user ${user.username}:`, error);\n                } else {\n                    console.log(`✅ Created superadmin user: ${user.username}`);\n                }\n            } else {\n                console.log(`ℹ️ User ${user.username} already exists`);\n            }\n        } catch (error) {\n            console.error(`Error processing user ${user.username}:`, error);\n        }\n    }\n}\n/**\n * Authenticate user with username and password\n */ async function authenticateUser(credentials) {\n    try {\n        const { data: user, error } = await supabaseAdmin.from(\"admin_users\").select(\"*\").eq(\"username\", credentials.username).eq(\"is_active\", true).single();\n        if (error || !user) {\n            return null;\n        }\n        const isValidPassword = await verifyPassword(credentials.password, user.password_hash);\n        if (!isValidPassword) {\n            return null;\n        }\n        // Update last login\n        await supabaseAdmin.from(\"admin_users\").update({\n            last_login: new Date().toISOString()\n        }).eq(\"id\", user.id);\n        // Return user without password hash\n        const { password_hash, ...userWithoutPassword } = user;\n        return userWithoutPassword;\n    } catch (error) {\n        console.error(\"Authentication error:\", error);\n        return null;\n    }\n}\n/**\n * Create session for authenticated user\n */ async function createSession(userId, ipAddress, userAgent) {\n    const sessionId = generateSessionId();\n    const expiresAt = new Date(Date.now() + SESSION_DURATION).toISOString();\n    const { error } = await supabaseAdmin.from(\"admin_sessions\").insert({\n        id: sessionId,\n        user_id: userId,\n        expires_at: expiresAt,\n        ip_address: ipAddress,\n        user_agent: userAgent\n    });\n    if (error) {\n        throw new Error(\"Failed to create session\");\n    }\n    return sessionId;\n}\n/**\n * Validate session\n */ async function validateSession(sessionId) {\n    try {\n        const { data: session, error } = await supabase.from(\"admin_sessions\").select(`\n        *,\n        admin_users (\n          id, username, email, full_name, role, is_active, last_login, created_at\n        )\n      `).eq(\"id\", sessionId).gt(\"expires_at\", new Date().toISOString()).single();\n        if (error || !session || !session.admin_users) {\n            return null;\n        }\n        return session.admin_users;\n    } catch (error) {\n        console.error(\"Session validation error:\", error);\n        return null;\n    }\n}\n/**\n * Destroy session (logout)\n */ async function destroySession(sessionId) {\n    await supabase.from(\"admin_sessions\").delete().eq(\"id\", sessionId);\n}\n/**\n * Clean up expired sessions\n */ async function cleanupExpiredSessions() {\n    await supabase.from(\"admin_sessions\").delete().lt(\"expires_at\", new Date().toISOString());\n}\n/**\n * Log admin activity\n */ async function logActivity(userId, action, resource, resourceId, details, ipAddress, userAgent) {\n    try {\n        await supabase.from(\"admin_activity_logs\").insert({\n            user_id: userId,\n            action,\n            resource,\n            resource_id: resourceId,\n            details,\n            ip_address: ipAddress,\n            user_agent: userAgent\n        });\n    } catch (error) {\n        console.error(\"Failed to log activity:\", error);\n    }\n}\n/**\n * Generate secure session ID\n */ function generateSessionId() {\n    return `sess_${Date.now()}_${Math.random().toString(36).substring(2, 15)}`;\n}\n/**\n * Get user by ID\n */ async function getUserById(userId) {\n    try {\n        const { data: user, error } = await supabase.from(\"admin_users\").select(\"id, username, email, full_name, role, is_active, last_login, created_at\").eq(\"id\", userId).eq(\"is_active\", true).single();\n        if (error || !user) {\n            return null;\n        }\n        return user;\n    } catch (error) {\n        console.error(\"Get user error:\", error);\n        return null;\n    }\n}\n/**\n * Check if user has permission\n */ function hasPermission(user, permission) {\n    // Superadmin has all permissions\n    if (user.role === \"superadmin\") {\n        return true;\n    }\n    // Add more role-based permissions here if needed\n    return false;\n}\n/**\n * Initialize authentication system\n */ async function initializeAuth() {\n    try {\n        console.log(\"\\uD83D\\uDD10 Initializing authentication system...\");\n        // Create default admin users\n        await createDefaultAdminUsers();\n        // Clean up expired sessions\n        await cleanupExpiredSessions();\n        console.log(\"✅ Authentication system initialized\");\n    } catch (error) {\n        console.error(\"❌ Failed to initialize authentication:\", error);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Iiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9saWIvYXV0aC50cz82NjkyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXV0aGVudGljYXRpb24gVXRpbGl0aWVzXG4gKiBIYWZpUG9ydHJhaXQgQWRtaW4gQXV0aGVudGljYXRpb24gU3lzdGVtXG4gKi9cblxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG4vLyBDcmVhdGUgU3VwYWJhc2UgY2xpZW50IHdpdGggc2VydmljZSByb2xlIGtleSBmb3IgYWRtaW4gb3BlcmF0aW9uc1xuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhO1xuY29uc3Qgc3VwYWJhc2VTZXJ2aWNlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSE7XG5cbmNvbnN0IHN1cGFiYXNlQWRtaW4gPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlU2VydmljZUtleSwge1xuICBhdXRoOiB7XG4gICAgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsXG4gICAgcGVyc2lzdFNlc3Npb246IGZhbHNlXG4gIH1cbn0pO1xuXG5jb25zdCBKV1RfU0VDUkVUID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCAnaGFmaXBvcnRyYWl0LXNlY3JldC1rZXktY2hhbmdlLWluLXByb2R1Y3Rpb24nO1xuY29uc3QgU0VTU0lPTl9EVVJBVElPTiA9IDI0ICogNjAgKiA2MCAqIDEwMDA7IC8vIDI0IGhvdXJzXG5cbmV4cG9ydCBpbnRlcmZhY2UgQWRtaW5Vc2VyIHtcbiAgaWQ6IG51bWJlcjtcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbiAgZnVsbF9uYW1lOiBzdHJpbmc7XG4gIHJvbGU6IHN0cmluZztcbiAgaXNfYWN0aXZlOiBib29sZWFuO1xuICBsYXN0X2xvZ2luOiBzdHJpbmcgfCBudWxsO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9naW5DcmVkZW50aWFscyB7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aFNlc3Npb24ge1xuICBpZDogc3RyaW5nO1xuICB1c2VyX2lkOiBudW1iZXI7XG4gIGV4cGlyZXNfYXQ6IHN0cmluZztcbiAgaXBfYWRkcmVzcz86IHN0cmluZztcbiAgdXNlcl9hZ2VudD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBIYXNoIHBhc3N3b3JkIHVzaW5nIGJjcnlwdFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFzaFBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBzYWx0Um91bmRzID0gMTI7XG4gIHJldHVybiBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdFJvdW5kcyk7XG59XG5cbi8qKlxuICogVmVyaWZ5IHBhc3N3b3JkIGFnYWluc3QgaGFzaFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5UGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZywgaGFzaDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHJldHVybiBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgaGFzaCk7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgSldUIHRva2VuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRva2VuKHVzZXJJZDogbnVtYmVyLCB1c2VybmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGp3dC5zaWduKFxuICAgIHsgdXNlcklkLCB1c2VybmFtZSB9LFxuICAgIEpXVF9TRUNSRVQsXG4gICAgeyBleHBpcmVzSW46ICcyNGgnIH1cbiAgKTtcbn1cblxuLyoqXG4gKiBWZXJpZnkgSldUIHRva2VuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlUb2tlbih0b2tlbjogc3RyaW5nKTogeyB1c2VySWQ6IG51bWJlcjsgdXNlcm5hbWU6IHN0cmluZyB9IHwgbnVsbCB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIEpXVF9TRUNSRVQpIGFzIGFueTtcbiAgICByZXR1cm4geyB1c2VySWQ6IGRlY29kZWQudXNlcklkLCB1c2VybmFtZTogZGVjb2RlZC51c2VybmFtZSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIGFkbWluIHVzZXJzIHdpdGggaGFzaGVkIHBhc3N3b3Jkc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlRGVmYXVsdEFkbWluVXNlcnMoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGRlZmF1bHRVc2VycyA9IFtcbiAgICB7XG4gICAgICB1c2VybmFtZTogJ2hhZmknLFxuICAgICAgcGFzc3dvcmQ6ICdIYW50dUAxMTIyMzMnLFxuICAgICAgZW1haWw6ICdoYWZpQGhhZmlwb3J0cmFpdC5jb20nLFxuICAgICAgZnVsbF9uYW1lOiAnSGFmaSBQb3J0cmFpdCdcbiAgICB9LFxuICAgIHtcbiAgICAgIHVzZXJuYW1lOiAnbmFuZGlrYScsXG4gICAgICBwYXNzd29yZDogJ0hhbnR1QDExMjIzMycsXG4gICAgICBlbWFpbDogJ25hbmRpa2FAaGFmaXBvcnRyYWl0LmNvbScsXG4gICAgICBmdWxsX25hbWU6ICdOYW5kaWthJ1xuICAgIH1cbiAgXTtcblxuICBmb3IgKGNvbnN0IHVzZXIgb2YgZGVmYXVsdFVzZXJzKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENoZWNrIGlmIHVzZXIgYWxyZWFkeSBleGlzdHNcbiAgICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdVc2VyIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAgIC5mcm9tKCdhZG1pbl91c2VycycpXG4gICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgLmVxKCd1c2VybmFtZScsIHVzZXIudXNlcm5hbWUpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKCFleGlzdGluZ1VzZXIpIHtcbiAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoUGFzc3dvcmQodXNlci5wYXNzd29yZCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAgICAgLmZyb20oJ2FkbWluX3VzZXJzJylcbiAgICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICAgICAgcGFzc3dvcmRfaGFzaDogaGFzaGVkUGFzc3dvcmQsXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgIGZ1bGxfbmFtZTogdXNlci5mdWxsX25hbWUsXG4gICAgICAgICAgICByb2xlOiAnc3VwZXJhZG1pbidcbiAgICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjcmVhdGluZyB1c2VyICR7dXNlci51c2VybmFtZX06YCwgZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgQ3JlYXRlZCBzdXBlcmFkbWluIHVzZXI6ICR7dXNlci51c2VybmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coYOKEue+4jyBVc2VyICR7dXNlci51c2VybmFtZX0gYWxyZWFkeSBleGlzdHNgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgcHJvY2Vzc2luZyB1c2VyICR7dXNlci51c2VybmFtZX06YCwgZXJyb3IpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEF1dGhlbnRpY2F0ZSB1c2VyIHdpdGggdXNlcm5hbWUgYW5kIHBhc3N3b3JkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhdXRoZW50aWNhdGVVc2VyKGNyZWRlbnRpYWxzOiBMb2dpbkNyZWRlbnRpYWxzKTogUHJvbWlzZTxBZG1pblVzZXIgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhOiB1c2VyLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ2FkbWluX3VzZXJzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCd1c2VybmFtZScsIGNyZWRlbnRpYWxzLnVzZXJuYW1lKVxuICAgICAgLmVxKCdpc19hY3RpdmUnLCB0cnVlKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKGVycm9yIHx8ICF1c2VyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBpc1ZhbGlkUGFzc3dvcmQgPSBhd2FpdCB2ZXJpZnlQYXNzd29yZChjcmVkZW50aWFscy5wYXNzd29yZCwgdXNlci5wYXNzd29yZF9oYXNoKTtcbiAgICBpZiAoIWlzVmFsaWRQYXNzd29yZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGxhc3QgbG9naW5cbiAgICBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgnYWRtaW5fdXNlcnMnKVxuICAgICAgLnVwZGF0ZSh7IGxhc3RfbG9naW46IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9KVxuICAgICAgLmVxKCdpZCcsIHVzZXIuaWQpO1xuXG4gICAgLy8gUmV0dXJuIHVzZXIgd2l0aG91dCBwYXNzd29yZCBoYXNoXG4gICAgY29uc3QgeyBwYXNzd29yZF9oYXNoLCAuLi51c2VyV2l0aG91dFBhc3N3b3JkIH0gPSB1c2VyO1xuICAgIHJldHVybiB1c2VyV2l0aG91dFBhc3N3b3JkO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBzZXNzaW9uIGZvciBhdXRoZW50aWNhdGVkIHVzZXJcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNlc3Npb24oXG4gIHVzZXJJZDogbnVtYmVyLCBcbiAgaXBBZGRyZXNzPzogc3RyaW5nLCBcbiAgdXNlckFnZW50Pzogc3RyaW5nXG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBzZXNzaW9uSWQgPSBnZW5lcmF0ZVNlc3Npb25JZCgpO1xuICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgU0VTU0lPTl9EVVJBVElPTikudG9JU09TdHJpbmcoKTtcblxuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgLmZyb20oJ2FkbWluX3Nlc3Npb25zJylcbiAgICAuaW5zZXJ0KHtcbiAgICAgIGlkOiBzZXNzaW9uSWQsXG4gICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICBleHBpcmVzX2F0OiBleHBpcmVzQXQsXG4gICAgICBpcF9hZGRyZXNzOiBpcEFkZHJlc3MsXG4gICAgICB1c2VyX2FnZW50OiB1c2VyQWdlbnRcbiAgICB9KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgc2Vzc2lvbicpO1xuICB9XG5cbiAgcmV0dXJuIHNlc3Npb25JZDtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBzZXNzaW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZGF0ZVNlc3Npb24oc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPEFkbWluVXNlciB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGE6IHNlc3Npb24sIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2FkbWluX3Nlc3Npb25zJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICAqLFxuICAgICAgICBhZG1pbl91c2VycyAoXG4gICAgICAgICAgaWQsIHVzZXJuYW1lLCBlbWFpbCwgZnVsbF9uYW1lLCByb2xlLCBpc19hY3RpdmUsIGxhc3RfbG9naW4sIGNyZWF0ZWRfYXRcbiAgICAgICAgKVxuICAgICAgYClcbiAgICAgIC5lcSgnaWQnLCBzZXNzaW9uSWQpXG4gICAgICAuZ3QoJ2V4cGlyZXNfYXQnLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IgfHwgIXNlc3Npb24gfHwgIXNlc3Npb24uYWRtaW5fdXNlcnMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBzZXNzaW9uLmFkbWluX3VzZXJzIGFzIEFkbWluVXNlcjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTZXNzaW9uIHZhbGlkYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogRGVzdHJveSBzZXNzaW9uIChsb2dvdXQpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXN0cm95U2Vzc2lvbihzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdhZG1pbl9zZXNzaW9ucycpXG4gICAgLmRlbGV0ZSgpXG4gICAgLmVxKCdpZCcsIHNlc3Npb25JZCk7XG59XG5cbi8qKlxuICogQ2xlYW4gdXAgZXhwaXJlZCBzZXNzaW9uc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xlYW51cEV4cGlyZWRTZXNzaW9ucygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnYWRtaW5fc2Vzc2lvbnMnKVxuICAgIC5kZWxldGUoKVxuICAgIC5sdCgnZXhwaXJlc19hdCcsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7XG59XG5cbi8qKlxuICogTG9nIGFkbWluIGFjdGl2aXR5XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dBY3Rpdml0eShcbiAgdXNlcklkOiBudW1iZXIsXG4gIGFjdGlvbjogc3RyaW5nLFxuICByZXNvdXJjZT86IHN0cmluZyxcbiAgcmVzb3VyY2VJZD86IHN0cmluZyxcbiAgZGV0YWlscz86IGFueSxcbiAgaXBBZGRyZXNzPzogc3RyaW5nLFxuICB1c2VyQWdlbnQ/OiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYWRtaW5fYWN0aXZpdHlfbG9ncycpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIHJlc291cmNlLFxuICAgICAgICByZXNvdXJjZV9pZDogcmVzb3VyY2VJZCxcbiAgICAgICAgZGV0YWlscyxcbiAgICAgICAgaXBfYWRkcmVzczogaXBBZGRyZXNzLFxuICAgICAgICB1c2VyX2FnZW50OiB1c2VyQWdlbnRcbiAgICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2cgYWN0aXZpdHk6JywgZXJyb3IpO1xuICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGUgc2VjdXJlIHNlc3Npb24gSURcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVTZXNzaW9uSWQoKTogc3RyaW5nIHtcbiAgcmV0dXJuIGBzZXNzXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpfWA7XG59XG5cbi8qKlxuICogR2V0IHVzZXIgYnkgSURcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJCeUlkKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTxBZG1pblVzZXIgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhOiB1c2VyLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdhZG1pbl91c2VycycpXG4gICAgICAuc2VsZWN0KCdpZCwgdXNlcm5hbWUsIGVtYWlsLCBmdWxsX25hbWUsIHJvbGUsIGlzX2FjdGl2ZSwgbGFzdF9sb2dpbiwgY3JlYXRlZF9hdCcpXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKVxuICAgICAgLmVxKCdpc19hY3RpdmUnLCB0cnVlKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKGVycm9yIHx8ICF1c2VyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdXNlcjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdHZXQgdXNlciBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiB1c2VyIGhhcyBwZXJtaXNzaW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNQZXJtaXNzaW9uKHVzZXI6IEFkbWluVXNlciwgcGVybWlzc2lvbjogc3RyaW5nKTogYm9vbGVhbiB7XG4gIC8vIFN1cGVyYWRtaW4gaGFzIGFsbCBwZXJtaXNzaW9uc1xuICBpZiAodXNlci5yb2xlID09PSAnc3VwZXJhZG1pbicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEFkZCBtb3JlIHJvbGUtYmFzZWQgcGVybWlzc2lvbnMgaGVyZSBpZiBuZWVkZWRcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgYXV0aGVudGljYXRpb24gc3lzdGVtXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplQXV0aCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygn8J+UkCBJbml0aWFsaXppbmcgYXV0aGVudGljYXRpb24gc3lzdGVtLi4uJyk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGRlZmF1bHQgYWRtaW4gdXNlcnNcbiAgICBhd2FpdCBjcmVhdGVEZWZhdWx0QWRtaW5Vc2VycygpO1xuICAgIFxuICAgIC8vIENsZWFuIHVwIGV4cGlyZWQgc2Vzc2lvbnNcbiAgICBhd2FpdCBjbGVhbnVwRXhwaXJlZFNlc3Npb25zKCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ+KchSBBdXRoZW50aWNhdGlvbiBzeXN0ZW0gaW5pdGlhbGl6ZWQnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGluaXRpYWxpemUgYXV0aGVudGljYXRpb246JywgZXJyb3IpO1xuICB9XG59Il0sIm5hbWVzIjpbImJjcnlwdCIsImp3dCIsImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlU2VydmljZUtleSIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJzdXBhYmFzZUFkbWluIiwiYXV0aCIsImF1dG9SZWZyZXNoVG9rZW4iLCJwZXJzaXN0U2Vzc2lvbiIsIkpXVF9TRUNSRVQiLCJTRVNTSU9OX0RVUkFUSU9OIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0Um91bmRzIiwiaGFzaCIsInZlcmlmeVBhc3N3b3JkIiwiY29tcGFyZSIsImdlbmVyYXRlVG9rZW4iLCJ1c2VySWQiLCJ1c2VybmFtZSIsInNpZ24iLCJleHBpcmVzSW4iLCJ2ZXJpZnlUb2tlbiIsInRva2VuIiwiZGVjb2RlZCIsInZlcmlmeSIsImVycm9yIiwiY3JlYXRlRGVmYXVsdEFkbWluVXNlcnMiLCJkZWZhdWx0VXNlcnMiLCJlbWFpbCIsImZ1bGxfbmFtZSIsInVzZXIiLCJkYXRhIiwiZXhpc3RpbmdVc2VyIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiaGFzaGVkUGFzc3dvcmQiLCJpbnNlcnQiLCJwYXNzd29yZF9oYXNoIiwicm9sZSIsImNvbnNvbGUiLCJsb2ciLCJhdXRoZW50aWNhdGVVc2VyIiwiY3JlZGVudGlhbHMiLCJpc1ZhbGlkUGFzc3dvcmQiLCJ1cGRhdGUiLCJsYXN0X2xvZ2luIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiaWQiLCJ1c2VyV2l0aG91dFBhc3N3b3JkIiwiY3JlYXRlU2Vzc2lvbiIsImlwQWRkcmVzcyIsInVzZXJBZ2VudCIsInNlc3Npb25JZCIsImdlbmVyYXRlU2Vzc2lvbklkIiwiZXhwaXJlc0F0Iiwibm93IiwidXNlcl9pZCIsImV4cGlyZXNfYXQiLCJpcF9hZGRyZXNzIiwidXNlcl9hZ2VudCIsIkVycm9yIiwidmFsaWRhdGVTZXNzaW9uIiwic2Vzc2lvbiIsInN1cGFiYXNlIiwiZ3QiLCJhZG1pbl91c2VycyIsImRlc3Ryb3lTZXNzaW9uIiwiZGVsZXRlIiwiY2xlYW51cEV4cGlyZWRTZXNzaW9ucyIsImx0IiwibG9nQWN0aXZpdHkiLCJhY3Rpb24iLCJyZXNvdXJjZSIsInJlc291cmNlSWQiLCJkZXRhaWxzIiwicmVzb3VyY2VfaWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJnZXRVc2VyQnlJZCIsImhhc1Blcm1pc3Npb24iLCJwZXJtaXNzaW9uIiwiaW5pdGlhbGl6ZUF1dGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./src/lib/auth.ts\n");

/***/ })

});