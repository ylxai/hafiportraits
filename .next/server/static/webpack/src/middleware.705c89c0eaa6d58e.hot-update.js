"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src/middleware",{

/***/ "(middleware)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authenticateUser: () => (/* binding */ authenticateUser),\n/* harmony export */   cleanupExpiredSessions: () => (/* binding */ cleanupExpiredSessions),\n/* harmony export */   createDefaultAdminUsers: () => (/* binding */ createDefaultAdminUsers),\n/* harmony export */   createSession: () => (/* binding */ createSession),\n/* harmony export */   destroySession: () => (/* binding */ destroySession),\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   hasPermission: () => (/* binding */ hasPermission),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   initializeAuth: () => (/* binding */ initializeAuth),\n/* harmony export */   logActivity: () => (/* binding */ logActivity),\n/* harmony export */   validateSession: () => (/* binding */ validateSession),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(middleware)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(middleware)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/supabase-js */ \"(middleware)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/**\n * Authentication Utilities\n * HafiPortrait Admin Authentication System\n */ \n\n\n// Create Supabase client with service role key for admin operations\nconst supabaseUrl = \"https://azspktldiblhrwebzmwq.supabase.co\";\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__.createClient)(supabaseUrl, supabaseServiceKey, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n});\nconst JWT_SECRET = process.env.JWT_SECRET || \"hafiportrait-secret-key-change-in-production\";\nconst SESSION_DURATION = 24 * 60 * 60 * 1000; // 24 hours\n/**\n * Hash password using bcrypt\n */ async function hashPassword(password) {\n    const saltRounds = 12;\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(password, saltRounds);\n}\n/**\n * Verify password against hash\n */ async function verifyPassword(password, hash) {\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].compare(password, hash);\n}\n/**\n * Generate JWT token\n */ function generateToken(userId, username) {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign({\n        userId,\n        username\n    }, JWT_SECRET, {\n        expiresIn: \"24h\"\n    });\n}\n/**\n * Verify JWT token\n */ function verifyToken(token) {\n    try {\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, JWT_SECRET);\n        return {\n            userId: decoded.userId,\n            username: decoded.username\n        };\n    } catch (error) {\n        return null;\n    }\n}\n/**\n * Create admin users with hashed passwords\n */ async function createDefaultAdminUsers() {\n    const defaultUsers = [\n        {\n            username: \"hafi\",\n            password: \"Hantu@112233\",\n            email: \"hafi@hafiportrait.com\",\n            full_name: \"Hafi Portrait\"\n        },\n        {\n            username: \"nandika\",\n            password: \"Hantu@112233\",\n            email: \"nandika@hafiportrait.com\",\n            full_name: \"Nandika\"\n        }\n    ];\n    for (const user of defaultUsers){\n        try {\n            // Check if user already exists\n            const { data: existingUser } = await supabaseAdmin.from(\"admin_users\").select(\"id\").eq(\"username\", user.username).single();\n            if (!existingUser) {\n                const hashedPassword = await hashPassword(user.password);\n                const { error } = await supabaseAdmin.from(\"admin_users\").insert({\n                    username: user.username,\n                    password_hash: hashedPassword,\n                    email: user.email,\n                    full_name: user.full_name,\n                    role: \"superadmin\"\n                });\n                if (error) {\n                    console.error(`Error creating user ${user.username}:`, error);\n                } else {\n                    console.log(`✅ Created superadmin user: ${user.username}`);\n                }\n            } else {\n                console.log(`ℹ️ User ${user.username} already exists`);\n            }\n        } catch (error) {\n            console.error(`Error processing user ${user.username}:`, error);\n        }\n    }\n}\n/**\n * Authenticate user with username and password\n */ async function authenticateUser(credentials) {\n    try {\n        const { data: user, error } = await supabaseAdmin.from(\"admin_users\").select(\"*\").eq(\"username\", credentials.username).eq(\"is_active\", true).single();\n        if (error || !user) {\n            return null;\n        }\n        const isValidPassword = await verifyPassword(credentials.password, user.password_hash);\n        if (!isValidPassword) {\n            return null;\n        }\n        // Update last login\n        await supabaseAdmin.from(\"admin_users\").update({\n            last_login: new Date().toISOString()\n        }).eq(\"id\", user.id);\n        // Return user without password hash\n        const { password_hash, ...userWithoutPassword } = user;\n        return userWithoutPassword;\n    } catch (error) {\n        console.error(\"Authentication error:\", error);\n        return null;\n    }\n}\n/**\n * Create session for authenticated user\n */ async function createSession(userId, ipAddress, userAgent) {\n    const sessionId = generateSessionId();\n    const expiresAt = new Date(Date.now() + SESSION_DURATION).toISOString();\n    const { error } = await supabase.from(\"admin_sessions\").insert({\n        id: sessionId,\n        user_id: userId,\n        expires_at: expiresAt,\n        ip_address: ipAddress,\n        user_agent: userAgent\n    });\n    if (error) {\n        throw new Error(\"Failed to create session\");\n    }\n    return sessionId;\n}\n/**\n * Validate session\n */ async function validateSession(sessionId) {\n    try {\n        const { data: session, error } = await supabase.from(\"admin_sessions\").select(`\n        *,\n        admin_users (\n          id, username, email, full_name, role, is_active, last_login, created_at\n        )\n      `).eq(\"id\", sessionId).gt(\"expires_at\", new Date().toISOString()).single();\n        if (error || !session || !session.admin_users) {\n            return null;\n        }\n        return session.admin_users;\n    } catch (error) {\n        console.error(\"Session validation error:\", error);\n        return null;\n    }\n}\n/**\n * Destroy session (logout)\n */ async function destroySession(sessionId) {\n    await supabase.from(\"admin_sessions\").delete().eq(\"id\", sessionId);\n}\n/**\n * Clean up expired sessions\n */ async function cleanupExpiredSessions() {\n    await supabase.from(\"admin_sessions\").delete().lt(\"expires_at\", new Date().toISOString());\n}\n/**\n * Log admin activity\n */ async function logActivity(userId, action, resource, resourceId, details, ipAddress, userAgent) {\n    try {\n        await supabase.from(\"admin_activity_logs\").insert({\n            user_id: userId,\n            action,\n            resource,\n            resource_id: resourceId,\n            details,\n            ip_address: ipAddress,\n            user_agent: userAgent\n        });\n    } catch (error) {\n        console.error(\"Failed to log activity:\", error);\n    }\n}\n/**\n * Generate secure session ID\n */ function generateSessionId() {\n    return `sess_${Date.now()}_${Math.random().toString(36).substring(2, 15)}`;\n}\n/**\n * Get user by ID\n */ async function getUserById(userId) {\n    try {\n        const { data: user, error } = await supabase.from(\"admin_users\").select(\"id, username, email, full_name, role, is_active, last_login, created_at\").eq(\"id\", userId).eq(\"is_active\", true).single();\n        if (error || !user) {\n            return null;\n        }\n        return user;\n    } catch (error) {\n        console.error(\"Get user error:\", error);\n        return null;\n    }\n}\n/**\n * Check if user has permission\n */ function hasPermission(user, permission) {\n    // Superadmin has all permissions\n    if (user.role === \"superadmin\") {\n        return true;\n    }\n    // Add more role-based permissions here if needed\n    return false;\n}\n/**\n * Initialize authentication system\n */ async function initializeAuth() {\n    try {\n        console.log(\"\\uD83D\\uDD10 Initializing authentication system...\");\n        // Create default admin users\n        await createDefaultAdminUsers();\n        // Clean up expired sessions\n        await cleanupExpiredSessions();\n        console.log(\"✅ Authentication system initialized\");\n    } catch (error) {\n        console.error(\"❌ Failed to initialize authentication:\", error);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2xpYi9hdXRoLnRzPzY2OTIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBdXRoZW50aWNhdGlvbiBVdGlsaXRpZXNcbiAqIEhhZmlQb3J0cmFpdCBBZG1pbiBBdXRoZW50aWNhdGlvbiBTeXN0ZW1cbiAqL1xuXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5cbi8vIENyZWF0ZSBTdXBhYmFzZSBjbGllbnQgd2l0aCBzZXJ2aWNlIHJvbGUga2V5IGZvciBhZG1pbiBvcGVyYXRpb25zXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCE7XG5jb25zdCBzdXBhYmFzZVNlcnZpY2VLZXkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZITtcblxuY29uc3Qgc3VwYWJhc2VBZG1pbiA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VTZXJ2aWNlS2V5LCB7XG4gIGF1dGg6IHtcbiAgICBhdXRvUmVmcmVzaFRva2VuOiBmYWxzZSxcbiAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2VcbiAgfVxufSk7XG5cbmNvbnN0IEpXVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdoYWZpcG9ydHJhaXQtc2VjcmV0LWtleS1jaGFuZ2UtaW4tcHJvZHVjdGlvbic7XG5jb25zdCBTRVNTSU9OX0RVUkFUSU9OID0gMjQgKiA2MCAqIDYwICogMTAwMDsgLy8gMjQgaG91cnNcblxuZXhwb3J0IGludGVyZmFjZSBBZG1pblVzZXIge1xuICBpZDogbnVtYmVyO1xuICB1c2VybmFtZTogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBmdWxsX25hbWU6IHN0cmluZztcbiAgcm9sZTogc3RyaW5nO1xuICBpc19hY3RpdmU6IGJvb2xlYW47XG4gIGxhc3RfbG9naW46IHN0cmluZyB8IG51bGw7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dpbkNyZWRlbnRpYWxzIHtcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgcGFzc3dvcmQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdXRoU2Vzc2lvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJfaWQ6IG51bWJlcjtcbiAgZXhwaXJlc19hdDogc3RyaW5nO1xuICBpcF9hZGRyZXNzPzogc3RyaW5nO1xuICB1c2VyX2FnZW50Pzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEhhc2ggcGFzc3dvcmQgdXNpbmcgYmNyeXB0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYXNoUGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IHNhbHRSb3VuZHMgPSAxMjtcbiAgcmV0dXJuIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0Um91bmRzKTtcbn1cblxuLyoqXG4gKiBWZXJpZnkgcGFzc3dvcmQgYWdhaW5zdCBoYXNoXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQYXNzd29yZChwYXNzd29yZDogc3RyaW5nLCBoYXNoOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBKV1QgdG9rZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVG9rZW4odXNlcklkOiBudW1iZXIsIHVzZXJuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gand0LnNpZ24oXG4gICAgeyB1c2VySWQsIHVzZXJuYW1lIH0sXG4gICAgSldUX1NFQ1JFVCxcbiAgICB7IGV4cGlyZXNJbjogJzI0aCcgfVxuICApO1xufVxuXG4vKipcbiAqIFZlcmlmeSBKV1QgdG9rZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZlcmlmeVRva2VuKHRva2VuOiBzdHJpbmcpOiB7IHVzZXJJZDogbnVtYmVyOyB1c2VybmFtZTogc3RyaW5nIH0gfCBudWxsIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVCkgYXMgYW55O1xuICAgIHJldHVybiB7IHVzZXJJZDogZGVjb2RlZC51c2VySWQsIHVzZXJuYW1lOiBkZWNvZGVkLnVzZXJuYW1lIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYWRtaW4gdXNlcnMgd2l0aCBoYXNoZWQgcGFzc3dvcmRzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0QWRtaW5Vc2VycygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgZGVmYXVsdFVzZXJzID0gW1xuICAgIHtcbiAgICAgIHVzZXJuYW1lOiAnaGFmaScsXG4gICAgICBwYXNzd29yZDogJ0hhbnR1QDExMjIzMycsXG4gICAgICBlbWFpbDogJ2hhZmlAaGFmaXBvcnRyYWl0LmNvbScsXG4gICAgICBmdWxsX25hbWU6ICdIYWZpIFBvcnRyYWl0J1xuICAgIH0sXG4gICAge1xuICAgICAgdXNlcm5hbWU6ICduYW5kaWthJyxcbiAgICAgIHBhc3N3b3JkOiAnSGFudHVAMTEyMjMzJyxcbiAgICAgIGVtYWlsOiAnbmFuZGlrYUBoYWZpcG9ydHJhaXQuY29tJyxcbiAgICAgIGZ1bGxfbmFtZTogJ05hbmRpa2EnXG4gICAgfVxuICBdO1xuXG4gIGZvciAoY29uc3QgdXNlciBvZiBkZWZhdWx0VXNlcnMpIHtcbiAgICB0cnkge1xuICAgICAgLy8gQ2hlY2sgaWYgdXNlciBhbHJlYWR5IGV4aXN0c1xuICAgICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ1VzZXIgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgICAgLmZyb20oJ2FkbWluX3VzZXJzJylcbiAgICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgICAuZXEoJ3VzZXJuYW1lJywgdXNlci51c2VybmFtZSlcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBpZiAoIWV4aXN0aW5nVXNlcikge1xuICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGhhc2hQYXNzd29yZCh1c2VyLnBhc3N3b3JkKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgICAgICAuZnJvbSgnYWRtaW5fdXNlcnMnKVxuICAgICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgICAgICBwYXNzd29yZF9oYXNoOiBoYXNoZWRQYXNzd29yZCxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgZnVsbF9uYW1lOiB1c2VyLmZ1bGxfbmFtZSxcbiAgICAgICAgICAgIHJvbGU6ICdzdXBlcmFkbWluJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGNyZWF0aW5nIHVzZXIgJHt1c2VyLnVzZXJuYW1lfTpgLCBlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBDcmVhdGVkIHN1cGVyYWRtaW4gdXNlcjogJHt1c2VyLnVzZXJuYW1lfWApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhg4oS577iPIFVzZXIgJHt1c2VyLnVzZXJuYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBwcm9jZXNzaW5nIHVzZXIgJHt1c2VyLnVzZXJuYW1lfTpgLCBlcnJvcik7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQXV0aGVudGljYXRlIHVzZXIgd2l0aCB1c2VybmFtZSBhbmQgcGFzc3dvcmRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZVVzZXIoY3JlZGVudGlhbHM6IExvZ2luQ3JlZGVudGlhbHMpOiBQcm9taXNlPEFkbWluVXNlciB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGE6IHVzZXIsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgnYWRtaW5fdXNlcnMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ3VzZXJuYW1lJywgY3JlZGVudGlhbHMudXNlcm5hbWUpXG4gICAgICAuZXEoJ2lzX2FjdGl2ZScsIHRydWUpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IgfHwgIXVzZXIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGlzVmFsaWRQYXNzd29yZCA9IGF3YWl0IHZlcmlmeVBhc3N3b3JkKGNyZWRlbnRpYWxzLnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkX2hhc2gpO1xuICAgIGlmICghaXNWYWxpZFBhc3N3b3JkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgbGFzdCBsb2dpblxuICAgIGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCdhZG1pbl91c2VycycpXG4gICAgICAudXBkYXRlKHsgbGFzdF9sb2dpbjogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pXG4gICAgICAuZXEoJ2lkJywgdXNlci5pZCk7XG5cbiAgICAvLyBSZXR1cm4gdXNlciB3aXRob3V0IHBhc3N3b3JkIGhhc2hcbiAgICBjb25zdCB7IHBhc3N3b3JkX2hhc2gsIC4uLnVzZXJXaXRob3V0UGFzc3dvcmQgfSA9IHVzZXI7XG4gICAgcmV0dXJuIHVzZXJXaXRob3V0UGFzc3dvcmQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQXV0aGVudGljYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIHNlc3Npb24gZm9yIGF1dGhlbnRpY2F0ZWQgdXNlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlU2Vzc2lvbihcbiAgdXNlcklkOiBudW1iZXIsIFxuICBpcEFkZHJlc3M/OiBzdHJpbmcsIFxuICB1c2VyQWdlbnQ/OiBzdHJpbmdcbik6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IHNlc3Npb25JZCA9IGdlbmVyYXRlU2Vzc2lvbklkKCk7XG4gIGNvbnN0IGV4cGlyZXNBdCA9IG5ldyBEYXRlKERhdGUubm93KCkgKyBTRVNTSU9OX0RVUkFUSU9OKS50b0lTT1N0cmluZygpO1xuXG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ2FkbWluX3Nlc3Npb25zJylcbiAgICAuaW5zZXJ0KHtcbiAgICAgIGlkOiBzZXNzaW9uSWQsXG4gICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICBleHBpcmVzX2F0OiBleHBpcmVzQXQsXG4gICAgICBpcF9hZGRyZXNzOiBpcEFkZHJlc3MsXG4gICAgICB1c2VyX2FnZW50OiB1c2VyQWdlbnRcbiAgICB9KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgc2Vzc2lvbicpO1xuICB9XG5cbiAgcmV0dXJuIHNlc3Npb25JZDtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBzZXNzaW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZGF0ZVNlc3Npb24oc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPEFkbWluVXNlciB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGE6IHNlc3Npb24sIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2FkbWluX3Nlc3Npb25zJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICAqLFxuICAgICAgICBhZG1pbl91c2VycyAoXG4gICAgICAgICAgaWQsIHVzZXJuYW1lLCBlbWFpbCwgZnVsbF9uYW1lLCByb2xlLCBpc19hY3RpdmUsIGxhc3RfbG9naW4sIGNyZWF0ZWRfYXRcbiAgICAgICAgKVxuICAgICAgYClcbiAgICAgIC5lcSgnaWQnLCBzZXNzaW9uSWQpXG4gICAgICAuZ3QoJ2V4cGlyZXNfYXQnLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IgfHwgIXNlc3Npb24gfHwgIXNlc3Npb24uYWRtaW5fdXNlcnMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBzZXNzaW9uLmFkbWluX3VzZXJzIGFzIEFkbWluVXNlcjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTZXNzaW9uIHZhbGlkYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogRGVzdHJveSBzZXNzaW9uIChsb2dvdXQpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXN0cm95U2Vzc2lvbihzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdhZG1pbl9zZXNzaW9ucycpXG4gICAgLmRlbGV0ZSgpXG4gICAgLmVxKCdpZCcsIHNlc3Npb25JZCk7XG59XG5cbi8qKlxuICogQ2xlYW4gdXAgZXhwaXJlZCBzZXNzaW9uc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xlYW51cEV4cGlyZWRTZXNzaW9ucygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnYWRtaW5fc2Vzc2lvbnMnKVxuICAgIC5kZWxldGUoKVxuICAgIC5sdCgnZXhwaXJlc19hdCcsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7XG59XG5cbi8qKlxuICogTG9nIGFkbWluIGFjdGl2aXR5XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dBY3Rpdml0eShcbiAgdXNlcklkOiBudW1iZXIsXG4gIGFjdGlvbjogc3RyaW5nLFxuICByZXNvdXJjZT86IHN0cmluZyxcbiAgcmVzb3VyY2VJZD86IHN0cmluZyxcbiAgZGV0YWlscz86IGFueSxcbiAgaXBBZGRyZXNzPzogc3RyaW5nLFxuICB1c2VyQWdlbnQ/OiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYWRtaW5fYWN0aXZpdHlfbG9ncycpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIHJlc291cmNlLFxuICAgICAgICByZXNvdXJjZV9pZDogcmVzb3VyY2VJZCxcbiAgICAgICAgZGV0YWlscyxcbiAgICAgICAgaXBfYWRkcmVzczogaXBBZGRyZXNzLFxuICAgICAgICB1c2VyX2FnZW50OiB1c2VyQWdlbnRcbiAgICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2cgYWN0aXZpdHk6JywgZXJyb3IpO1xuICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGUgc2VjdXJlIHNlc3Npb24gSURcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVTZXNzaW9uSWQoKTogc3RyaW5nIHtcbiAgcmV0dXJuIGBzZXNzXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpfWA7XG59XG5cbi8qKlxuICogR2V0IHVzZXIgYnkgSURcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJCeUlkKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTxBZG1pblVzZXIgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhOiB1c2VyLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdhZG1pbl91c2VycycpXG4gICAgICAuc2VsZWN0KCdpZCwgdXNlcm5hbWUsIGVtYWlsLCBmdWxsX25hbWUsIHJvbGUsIGlzX2FjdGl2ZSwgbGFzdF9sb2dpbiwgY3JlYXRlZF9hdCcpXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKVxuICAgICAgLmVxKCdpc19hY3RpdmUnLCB0cnVlKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKGVycm9yIHx8ICF1c2VyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdXNlcjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdHZXQgdXNlciBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiB1c2VyIGhhcyBwZXJtaXNzaW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNQZXJtaXNzaW9uKHVzZXI6IEFkbWluVXNlciwgcGVybWlzc2lvbjogc3RyaW5nKTogYm9vbGVhbiB7XG4gIC8vIFN1cGVyYWRtaW4gaGFzIGFsbCBwZXJtaXNzaW9uc1xuICBpZiAodXNlci5yb2xlID09PSAnc3VwZXJhZG1pbicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEFkZCBtb3JlIHJvbGUtYmFzZWQgcGVybWlzc2lvbnMgaGVyZSBpZiBuZWVkZWRcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgYXV0aGVudGljYXRpb24gc3lzdGVtXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplQXV0aCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygn8J+UkCBJbml0aWFsaXppbmcgYXV0aGVudGljYXRpb24gc3lzdGVtLi4uJyk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGRlZmF1bHQgYWRtaW4gdXNlcnNcbiAgICBhd2FpdCBjcmVhdGVEZWZhdWx0QWRtaW5Vc2VycygpO1xuICAgIFxuICAgIC8vIENsZWFuIHVwIGV4cGlyZWQgc2Vzc2lvbnNcbiAgICBhd2FpdCBjbGVhbnVwRXhwaXJlZFNlc3Npb25zKCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ+KchSBBdXRoZW50aWNhdGlvbiBzeXN0ZW0gaW5pdGlhbGl6ZWQnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGluaXRpYWxpemUgYXV0aGVudGljYXRpb246JywgZXJyb3IpO1xuICB9XG59Il0sIm5hbWVzIjpbImJjcnlwdCIsImp3dCIsImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlU2VydmljZUtleSIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJzdXBhYmFzZUFkbWluIiwiYXV0aCIsImF1dG9SZWZyZXNoVG9rZW4iLCJwZXJzaXN0U2Vzc2lvbiIsIkpXVF9TRUNSRVQiLCJTRVNTSU9OX0RVUkFUSU9OIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0Um91bmRzIiwiaGFzaCIsInZlcmlmeVBhc3N3b3JkIiwiY29tcGFyZSIsImdlbmVyYXRlVG9rZW4iLCJ1c2VySWQiLCJ1c2VybmFtZSIsInNpZ24iLCJleHBpcmVzSW4iLCJ2ZXJpZnlUb2tlbiIsInRva2VuIiwiZGVjb2RlZCIsInZlcmlmeSIsImVycm9yIiwiY3JlYXRlRGVmYXVsdEFkbWluVXNlcnMiLCJkZWZhdWx0VXNlcnMiLCJlbWFpbCIsImZ1bGxfbmFtZSIsInVzZXIiLCJkYXRhIiwiZXhpc3RpbmdVc2VyIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiaGFzaGVkUGFzc3dvcmQiLCJpbnNlcnQiLCJwYXNzd29yZF9oYXNoIiwicm9sZSIsImNvbnNvbGUiLCJsb2ciLCJhdXRoZW50aWNhdGVVc2VyIiwiY3JlZGVudGlhbHMiLCJpc1ZhbGlkUGFzc3dvcmQiLCJ1cGRhdGUiLCJsYXN0X2xvZ2luIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiaWQiLCJ1c2VyV2l0aG91dFBhc3N3b3JkIiwiY3JlYXRlU2Vzc2lvbiIsImlwQWRkcmVzcyIsInVzZXJBZ2VudCIsInNlc3Npb25JZCIsImdlbmVyYXRlU2Vzc2lvbklkIiwiZXhwaXJlc0F0Iiwibm93Iiwic3VwYWJhc2UiLCJ1c2VyX2lkIiwiZXhwaXJlc19hdCIsImlwX2FkZHJlc3MiLCJ1c2VyX2FnZW50IiwiRXJyb3IiLCJ2YWxpZGF0ZVNlc3Npb24iLCJzZXNzaW9uIiwiZ3QiLCJhZG1pbl91c2VycyIsImRlc3Ryb3lTZXNzaW9uIiwiZGVsZXRlIiwiY2xlYW51cEV4cGlyZWRTZXNzaW9ucyIsImx0IiwibG9nQWN0aXZpdHkiLCJhY3Rpb24iLCJyZXNvdXJjZSIsInJlc291cmNlSWQiLCJkZXRhaWxzIiwicmVzb3VyY2VfaWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJnZXRVc2VyQnlJZCIsImhhc1Blcm1pc3Npb24iLCJwZXJtaXNzaW9uIiwiaW5pdGlhbGl6ZUF1dGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./src/lib/auth.ts\n");

/***/ })

});