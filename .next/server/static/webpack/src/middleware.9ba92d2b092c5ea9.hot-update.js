"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src/middleware",{

/***/ "(middleware)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authenticateUser: () => (/* binding */ authenticateUser),\n/* harmony export */   cleanupExpiredSessions: () => (/* binding */ cleanupExpiredSessions),\n/* harmony export */   createDefaultAdminUsers: () => (/* binding */ createDefaultAdminUsers),\n/* harmony export */   createSession: () => (/* binding */ createSession),\n/* harmony export */   destroySession: () => (/* binding */ destroySession),\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   hasPermission: () => (/* binding */ hasPermission),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   initializeAuth: () => (/* binding */ initializeAuth),\n/* harmony export */   logActivity: () => (/* binding */ logActivity),\n/* harmony export */   validateSession: () => (/* binding */ validateSession),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(middleware)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(middleware)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/supabase-js */ \"(middleware)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/**\n * Authentication Utilities\n * HafiPortrait Admin Authentication System\n */ \n\n\n// Create Supabase client with service role key for admin operations\nconst supabaseUrl = \"https://azspktldiblhrwebzmwq.supabase.co\";\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__.createClient)(supabaseUrl, supabaseServiceKey, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n});\nconst JWT_SECRET = process.env.JWT_SECRET || \"hafiportrait-secret-key-change-in-production\";\nconst SESSION_DURATION = 24 * 60 * 60 * 1000; // 24 hours\n/**\n * Hash password using bcrypt\n */ async function hashPassword(password) {\n    const saltRounds = 12;\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(password, saltRounds);\n}\n/**\n * Verify password against hash\n */ async function verifyPassword(password, hash) {\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].compare(password, hash);\n}\n/**\n * Generate JWT token\n */ function generateToken(userId, username) {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign({\n        userId,\n        username\n    }, JWT_SECRET, {\n        expiresIn: \"24h\"\n    });\n}\n/**\n * Verify JWT token\n */ function verifyToken(token) {\n    try {\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, JWT_SECRET);\n        return {\n            userId: decoded.userId,\n            username: decoded.username\n        };\n    } catch (error) {\n        return null;\n    }\n}\n/**\n * Create admin users with hashed passwords\n */ async function createDefaultAdminUsers() {\n    const defaultUsers = [\n        {\n            username: \"hafi\",\n            password: \"Hantu@112233\",\n            email: \"hafi@hafiportrait.com\",\n            full_name: \"Hafi Portrait\"\n        },\n        {\n            username: \"nandika\",\n            password: \"Hantu@112233\",\n            email: \"nandika@hafiportrait.com\",\n            full_name: \"Nandika\"\n        }\n    ];\n    for (const user of defaultUsers){\n        try {\n            // Check if user already exists\n            const { data: existingUser } = await supabaseAdmin.from(\"admin_users\").select(\"id\").eq(\"username\", user.username).single();\n            if (!existingUser) {\n                const hashedPassword = await hashPassword(user.password);\n                const { error } = await supabaseAdmin.from(\"admin_users\").insert({\n                    username: user.username,\n                    password_hash: hashedPassword,\n                    email: user.email,\n                    full_name: user.full_name,\n                    role: \"superadmin\"\n                });\n                if (error) {\n                    console.error(`Error creating user ${user.username}:`, error);\n                } else {\n                    console.log(`✅ Created superadmin user: ${user.username}`);\n                }\n            } else {\n                console.log(`ℹ️ User ${user.username} already exists`);\n            }\n        } catch (error) {\n            console.error(`Error processing user ${user.username}:`, error);\n        }\n    }\n}\n/**\n * Authenticate user with username and password\n */ async function authenticateUser(credentials) {\n    try {\n        const { data: user, error } = await supabaseAdmin.from(\"admin_users\").select(\"*\").eq(\"username\", credentials.username).eq(\"is_active\", true).single();\n        if (error || !user) {\n            return null;\n        }\n        const isValidPassword = await verifyPassword(credentials.password, user.password_hash);\n        if (!isValidPassword) {\n            return null;\n        }\n        // Update last login\n        await supabaseAdmin.from(\"admin_users\").update({\n            last_login: new Date().toISOString()\n        }).eq(\"id\", user.id);\n        // Return user without password hash\n        const { password_hash, ...userWithoutPassword } = user;\n        return userWithoutPassword;\n    } catch (error) {\n        console.error(\"Authentication error:\", error);\n        return null;\n    }\n}\n/**\n * Create session for authenticated user\n */ async function createSession(userId, ipAddress, userAgent) {\n    const sessionId = generateSessionId();\n    const expiresAt = new Date(Date.now() + SESSION_DURATION).toISOString();\n    const { error } = await supabaseAdmin.from(\"admin_sessions\").insert({\n        id: sessionId,\n        user_id: userId,\n        expires_at: expiresAt,\n        ip_address: ipAddress,\n        user_agent: userAgent\n    });\n    if (error) {\n        throw new Error(\"Failed to create session\");\n    }\n    return sessionId;\n}\n/**\n * Validate session\n */ async function validateSession(sessionId) {\n    try {\n        const { data: session, error } = await supabaseAdmin.from(\"admin_sessions\").select(`\n        *,\n        admin_users (\n          id, username, email, full_name, role, is_active, last_login, created_at\n        )\n      `).eq(\"id\", sessionId).gt(\"expires_at\", new Date().toISOString()).single();\n        if (error || !session || !session.admin_users) {\n            return null;\n        }\n        return session.admin_users;\n    } catch (error) {\n        console.error(\"Session validation error:\", error);\n        return null;\n    }\n}\n/**\n * Destroy session (logout)\n */ async function destroySession(sessionId) {\n    await supabaseAdmin.from(\"admin_sessions\").delete().eq(\"id\", sessionId);\n}\n/**\n * Clean up expired sessions\n */ async function cleanupExpiredSessions() {\n    await supabaseAdmin.from(\"admin_sessions\").delete().lt(\"expires_at\", new Date().toISOString());\n}\n/**\n * Log admin activity\n */ async function logActivity(userId, action, resource, resourceId, details, ipAddress, userAgent) {\n    try {\n        await supabaseAdmin.from(\"admin_activity_logs\").insert({\n            user_id: userId,\n            action,\n            resource,\n            resource_id: resourceId,\n            details,\n            ip_address: ipAddress,\n            user_agent: userAgent\n        });\n    } catch (error) {\n        console.error(\"Failed to log activity:\", error);\n    }\n}\n/**\n * Generate secure session ID\n */ function generateSessionId() {\n    return `sess_${Date.now()}_${Math.random().toString(36).substring(2, 15)}`;\n}\n/**\n * Get user by ID\n */ async function getUserById(userId) {\n    try {\n        const { data: user, error } = await supabase.from(\"admin_users\").select(\"id, username, email, full_name, role, is_active, last_login, created_at\").eq(\"id\", userId).eq(\"is_active\", true).single();\n        if (error || !user) {\n            return null;\n        }\n        return user;\n    } catch (error) {\n        console.error(\"Get user error:\", error);\n        return null;\n    }\n}\n/**\n * Check if user has permission\n */ function hasPermission(user, permission) {\n    // Superadmin has all permissions\n    if (user.role === \"superadmin\") {\n        return true;\n    }\n    // Add more role-based permissions here if needed\n    return false;\n}\n/**\n * Initialize authentication system\n */ async function initializeAuth() {\n    try {\n        console.log(\"\\uD83D\\uDD10 Initializing authentication system...\");\n        // Create default admin users\n        await createDefaultAdminUsers();\n        // Clean up expired sessions\n        await cleanupExpiredSessions();\n        console.log(\"✅ Authentication system initialized\");\n    } catch (error) {\n        console.error(\"❌ Failed to initialize authentication:\", error);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL2F1dGgudHM/NjY5MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEF1dGhlbnRpY2F0aW9uIFV0aWxpdGllc1xuICogSGFmaVBvcnRyYWl0IEFkbWluIEF1dGhlbnRpY2F0aW9uIFN5c3RlbVxuICovXG5cbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuLy8gQ3JlYXRlIFN1cGFiYXNlIGNsaWVudCB3aXRoIHNlcnZpY2Ugcm9sZSBrZXkgZm9yIGFkbWluIG9wZXJhdGlvbnNcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMITtcbmNvbnN0IHN1cGFiYXNlU2VydmljZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkhO1xuXG5jb25zdCBzdXBhYmFzZUFkbWluID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVNlcnZpY2VLZXksIHtcbiAgYXV0aDoge1xuICAgIGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlLFxuICAgIHBlcnNpc3RTZXNzaW9uOiBmYWxzZVxuICB9XG59KTtcblxuY29uc3QgSldUX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ2hhZmlwb3J0cmFpdC1zZWNyZXQta2V5LWNoYW5nZS1pbi1wcm9kdWN0aW9uJztcbmNvbnN0IFNFU1NJT05fRFVSQVRJT04gPSAyNCAqIDYwICogNjAgKiAxMDAwOyAvLyAyNCBob3Vyc1xuXG5leHBvcnQgaW50ZXJmYWNlIEFkbWluVXNlciB7XG4gIGlkOiBudW1iZXI7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGZ1bGxfbmFtZTogc3RyaW5nO1xuICByb2xlOiBzdHJpbmc7XG4gIGlzX2FjdGl2ZTogYm9vbGVhbjtcbiAgbGFzdF9sb2dpbjogc3RyaW5nIHwgbnVsbDtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvZ2luQ3JlZGVudGlhbHMge1xuICB1c2VybmFtZTogc3RyaW5nO1xuICBwYXNzd29yZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhTZXNzaW9uIHtcbiAgaWQ6IHN0cmluZztcbiAgdXNlcl9pZDogbnVtYmVyO1xuICBleHBpcmVzX2F0OiBzdHJpbmc7XG4gIGlwX2FkZHJlc3M/OiBzdHJpbmc7XG4gIHVzZXJfYWdlbnQ/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogSGFzaCBwYXNzd29yZCB1c2luZyBiY3J5cHRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhc2hQYXNzd29yZChwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3Qgc2FsdFJvdW5kcyA9IDEyO1xuICByZXR1cm4gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIHNhbHRSb3VuZHMpO1xufVxuXG4vKipcbiAqIFZlcmlmeSBwYXNzd29yZCBhZ2FpbnN0IGhhc2hcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcsIGhhc2g6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIGhhc2gpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIEpXVCB0b2tlblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVUb2tlbih1c2VySWQ6IG51bWJlciwgdXNlcm5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBqd3Quc2lnbihcbiAgICB7IHVzZXJJZCwgdXNlcm5hbWUgfSxcbiAgICBKV1RfU0VDUkVULFxuICAgIHsgZXhwaXJlc0luOiAnMjRoJyB9XG4gICk7XG59XG5cbi8qKlxuICogVmVyaWZ5IEpXVCB0b2tlblxuICovXG5leHBvcnQgZnVuY3Rpb24gdmVyaWZ5VG9rZW4odG9rZW46IHN0cmluZyk6IHsgdXNlcklkOiBudW1iZXI7IHVzZXJuYW1lOiBzdHJpbmcgfSB8IG51bGwge1xuICB0cnkge1xuICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKSBhcyBhbnk7XG4gICAgcmV0dXJuIHsgdXNlcklkOiBkZWNvZGVkLnVzZXJJZCwgdXNlcm5hbWU6IGRlY29kZWQudXNlcm5hbWUgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBhZG1pbiB1c2VycyB3aXRoIGhhc2hlZCBwYXNzd29yZHNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRBZG1pblVzZXJzKCk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBkZWZhdWx0VXNlcnMgPSBbXG4gICAge1xuICAgICAgdXNlcm5hbWU6ICdoYWZpJyxcbiAgICAgIHBhc3N3b3JkOiAnSGFudHVAMTEyMjMzJyxcbiAgICAgIGVtYWlsOiAnaGFmaUBoYWZpcG9ydHJhaXQuY29tJyxcbiAgICAgIGZ1bGxfbmFtZTogJ0hhZmkgUG9ydHJhaXQnXG4gICAgfSxcbiAgICB7XG4gICAgICB1c2VybmFtZTogJ25hbmRpa2EnLFxuICAgICAgcGFzc3dvcmQ6ICdIYW50dUAxMTIyMzMnLFxuICAgICAgZW1haWw6ICduYW5kaWthQGhhZmlwb3J0cmFpdC5jb20nLFxuICAgICAgZnVsbF9uYW1lOiAnTmFuZGlrYSdcbiAgICB9XG4gIF07XG5cbiAgZm9yIChjb25zdCB1c2VyIG9mIGRlZmF1bHRVc2Vycykge1xuICAgIHRyeSB7XG4gICAgICAvLyBDaGVjayBpZiB1c2VyIGFscmVhZHkgZXhpc3RzXG4gICAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nVXNlciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgICAuZnJvbSgnYWRtaW5fdXNlcnMnKVxuICAgICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAgIC5lcSgndXNlcm5hbWUnLCB1c2VyLnVzZXJuYW1lKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmICghZXhpc3RpbmdVc2VyKSB7XG4gICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaFBhc3N3b3JkKHVzZXIucGFzc3dvcmQpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgICAgIC5mcm9tKCdhZG1pbl91c2VycycpXG4gICAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgICAgICAgIHBhc3N3b3JkX2hhc2g6IGhhc2hlZFBhc3N3b3JkLFxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICBmdWxsX25hbWU6IHVzZXIuZnVsbF9uYW1lLFxuICAgICAgICAgICAgcm9sZTogJ3N1cGVyYWRtaW4nXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgY3JlYXRpbmcgdXNlciAke3VzZXIudXNlcm5hbWV9OmAsIGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIENyZWF0ZWQgc3VwZXJhZG1pbiB1c2VyOiAke3VzZXIudXNlcm5hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDihLnvuI8gVXNlciAke3VzZXIudXNlcm5hbWV9IGFscmVhZHkgZXhpc3RzYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgdXNlciAke3VzZXIudXNlcm5hbWV9OmAsIGVycm9yKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBdXRoZW50aWNhdGUgdXNlciB3aXRoIHVzZXJuYW1lIGFuZCBwYXNzd29yZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXV0aGVudGljYXRlVXNlcihjcmVkZW50aWFsczogTG9naW5DcmVkZW50aWFscyk6IFByb21pc2U8QWRtaW5Vc2VyIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YTogdXNlciwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCdhZG1pbl91c2VycycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgndXNlcm5hbWUnLCBjcmVkZW50aWFscy51c2VybmFtZSlcbiAgICAgIC5lcSgnaXNfYWN0aXZlJywgdHJ1ZSlcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmIChlcnJvciB8fCAhdXNlcikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgaXNWYWxpZFBhc3N3b3JkID0gYXdhaXQgdmVyaWZ5UGFzc3dvcmQoY3JlZGVudGlhbHMucGFzc3dvcmQsIHVzZXIucGFzc3dvcmRfaGFzaCk7XG4gICAgaWYgKCFpc1ZhbGlkUGFzc3dvcmQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBsYXN0IGxvZ2luXG4gICAgYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ2FkbWluX3VzZXJzJylcbiAgICAgIC51cGRhdGUoeyBsYXN0X2xvZ2luOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfSlcbiAgICAgIC5lcSgnaWQnLCB1c2VyLmlkKTtcblxuICAgIC8vIFJldHVybiB1c2VyIHdpdGhvdXQgcGFzc3dvcmQgaGFzaFxuICAgIGNvbnN0IHsgcGFzc3dvcmRfaGFzaCwgLi4udXNlcldpdGhvdXRQYXNzd29yZCB9ID0gdXNlcjtcbiAgICByZXR1cm4gdXNlcldpdGhvdXRQYXNzd29yZDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBdXRoZW50aWNhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgc2Vzc2lvbiBmb3IgYXV0aGVudGljYXRlZCB1c2VyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVTZXNzaW9uKFxuICB1c2VySWQ6IG51bWJlciwgXG4gIGlwQWRkcmVzcz86IHN0cmluZywgXG4gIHVzZXJBZ2VudD86IHN0cmluZ1xuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3Qgc2Vzc2lvbklkID0gZ2VuZXJhdGVTZXNzaW9uSWQoKTtcbiAgY29uc3QgZXhwaXJlc0F0ID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIFNFU1NJT05fRFVSQVRJT04pLnRvSVNPU3RyaW5nKCk7XG5cbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgIC5mcm9tKCdhZG1pbl9zZXNzaW9ucycpXG4gICAgLmluc2VydCh7XG4gICAgICBpZDogc2Vzc2lvbklkLFxuICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgZXhwaXJlc19hdDogZXhwaXJlc0F0LFxuICAgICAgaXBfYWRkcmVzczogaXBBZGRyZXNzLFxuICAgICAgdXNlcl9hZ2VudDogdXNlckFnZW50XG4gICAgfSk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIHNlc3Npb24nKTtcbiAgfVxuXG4gIHJldHVybiBzZXNzaW9uSWQ7XG59XG5cbi8qKlxuICogVmFsaWRhdGUgc2Vzc2lvblxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVTZXNzaW9uKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTxBZG1pblVzZXIgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhOiBzZXNzaW9uLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ2FkbWluX3Nlc3Npb25zJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICAqLFxuICAgICAgICBhZG1pbl91c2VycyAoXG4gICAgICAgICAgaWQsIHVzZXJuYW1lLCBlbWFpbCwgZnVsbF9uYW1lLCByb2xlLCBpc19hY3RpdmUsIGxhc3RfbG9naW4sIGNyZWF0ZWRfYXRcbiAgICAgICAgKVxuICAgICAgYClcbiAgICAgIC5lcSgnaWQnLCBzZXNzaW9uSWQpXG4gICAgICAuZ3QoJ2V4cGlyZXNfYXQnLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IgfHwgIXNlc3Npb24gfHwgIXNlc3Npb24uYWRtaW5fdXNlcnMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBzZXNzaW9uLmFkbWluX3VzZXJzIGFzIEFkbWluVXNlcjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTZXNzaW9uIHZhbGlkYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogRGVzdHJveSBzZXNzaW9uIChsb2dvdXQpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXN0cm95U2Vzc2lvbihzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgLmZyb20oJ2FkbWluX3Nlc3Npb25zJylcbiAgICAuZGVsZXRlKClcbiAgICAuZXEoJ2lkJywgc2Vzc2lvbklkKTtcbn1cblxuLyoqXG4gKiBDbGVhbiB1cCBleHBpcmVkIHNlc3Npb25zXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGVhbnVwRXhwaXJlZFNlc3Npb25zKCk6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgLmZyb20oJ2FkbWluX3Nlc3Npb25zJylcbiAgICAuZGVsZXRlKClcbiAgICAubHQoJ2V4cGlyZXNfYXQnLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpO1xufVxuXG4vKipcbiAqIExvZyBhZG1pbiBhY3Rpdml0eVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9nQWN0aXZpdHkoXG4gIHVzZXJJZDogbnVtYmVyLFxuICBhY3Rpb246IHN0cmluZyxcbiAgcmVzb3VyY2U/OiBzdHJpbmcsXG4gIHJlc291cmNlSWQ/OiBzdHJpbmcsXG4gIGRldGFpbHM/OiBhbnksXG4gIGlwQWRkcmVzcz86IHN0cmluZyxcbiAgdXNlckFnZW50Pzogc3RyaW5nXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgnYWRtaW5fYWN0aXZpdHlfbG9ncycpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIHJlc291cmNlLFxuICAgICAgICByZXNvdXJjZV9pZDogcmVzb3VyY2VJZCxcbiAgICAgICAgZGV0YWlscyxcbiAgICAgICAgaXBfYWRkcmVzczogaXBBZGRyZXNzLFxuICAgICAgICB1c2VyX2FnZW50OiB1c2VyQWdlbnRcbiAgICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2cgYWN0aXZpdHk6JywgZXJyb3IpO1xuICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGUgc2VjdXJlIHNlc3Npb24gSURcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVTZXNzaW9uSWQoKTogc3RyaW5nIHtcbiAgcmV0dXJuIGBzZXNzXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpfWA7XG59XG5cbi8qKlxuICogR2V0IHVzZXIgYnkgSURcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJCeUlkKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTxBZG1pblVzZXIgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhOiB1c2VyLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdhZG1pbl91c2VycycpXG4gICAgICAuc2VsZWN0KCdpZCwgdXNlcm5hbWUsIGVtYWlsLCBmdWxsX25hbWUsIHJvbGUsIGlzX2FjdGl2ZSwgbGFzdF9sb2dpbiwgY3JlYXRlZF9hdCcpXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKVxuICAgICAgLmVxKCdpc19hY3RpdmUnLCB0cnVlKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKGVycm9yIHx8ICF1c2VyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdXNlcjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdHZXQgdXNlciBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiB1c2VyIGhhcyBwZXJtaXNzaW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNQZXJtaXNzaW9uKHVzZXI6IEFkbWluVXNlciwgcGVybWlzc2lvbjogc3RyaW5nKTogYm9vbGVhbiB7XG4gIC8vIFN1cGVyYWRtaW4gaGFzIGFsbCBwZXJtaXNzaW9uc1xuICBpZiAodXNlci5yb2xlID09PSAnc3VwZXJhZG1pbicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEFkZCBtb3JlIHJvbGUtYmFzZWQgcGVybWlzc2lvbnMgaGVyZSBpZiBuZWVkZWRcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgYXV0aGVudGljYXRpb24gc3lzdGVtXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplQXV0aCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygn8J+UkCBJbml0aWFsaXppbmcgYXV0aGVudGljYXRpb24gc3lzdGVtLi4uJyk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGRlZmF1bHQgYWRtaW4gdXNlcnNcbiAgICBhd2FpdCBjcmVhdGVEZWZhdWx0QWRtaW5Vc2VycygpO1xuICAgIFxuICAgIC8vIENsZWFuIHVwIGV4cGlyZWQgc2Vzc2lvbnNcbiAgICBhd2FpdCBjbGVhbnVwRXhwaXJlZFNlc3Npb25zKCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ+KchSBBdXRoZW50aWNhdGlvbiBzeXN0ZW0gaW5pdGlhbGl6ZWQnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGluaXRpYWxpemUgYXV0aGVudGljYXRpb246JywgZXJyb3IpO1xuICB9XG59Il0sIm5hbWVzIjpbImJjcnlwdCIsImp3dCIsImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlU2VydmljZUtleSIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJzdXBhYmFzZUFkbWluIiwiYXV0aCIsImF1dG9SZWZyZXNoVG9rZW4iLCJwZXJzaXN0U2Vzc2lvbiIsIkpXVF9TRUNSRVQiLCJTRVNTSU9OX0RVUkFUSU9OIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0Um91bmRzIiwiaGFzaCIsInZlcmlmeVBhc3N3b3JkIiwiY29tcGFyZSIsImdlbmVyYXRlVG9rZW4iLCJ1c2VySWQiLCJ1c2VybmFtZSIsInNpZ24iLCJleHBpcmVzSW4iLCJ2ZXJpZnlUb2tlbiIsInRva2VuIiwiZGVjb2RlZCIsInZlcmlmeSIsImVycm9yIiwiY3JlYXRlRGVmYXVsdEFkbWluVXNlcnMiLCJkZWZhdWx0VXNlcnMiLCJlbWFpbCIsImZ1bGxfbmFtZSIsInVzZXIiLCJkYXRhIiwiZXhpc3RpbmdVc2VyIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiaGFzaGVkUGFzc3dvcmQiLCJpbnNlcnQiLCJwYXNzd29yZF9oYXNoIiwicm9sZSIsImNvbnNvbGUiLCJsb2ciLCJhdXRoZW50aWNhdGVVc2VyIiwiY3JlZGVudGlhbHMiLCJpc1ZhbGlkUGFzc3dvcmQiLCJ1cGRhdGUiLCJsYXN0X2xvZ2luIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiaWQiLCJ1c2VyV2l0aG91dFBhc3N3b3JkIiwiY3JlYXRlU2Vzc2lvbiIsImlwQWRkcmVzcyIsInVzZXJBZ2VudCIsInNlc3Npb25JZCIsImdlbmVyYXRlU2Vzc2lvbklkIiwiZXhwaXJlc0F0Iiwibm93IiwidXNlcl9pZCIsImV4cGlyZXNfYXQiLCJpcF9hZGRyZXNzIiwidXNlcl9hZ2VudCIsIkVycm9yIiwidmFsaWRhdGVTZXNzaW9uIiwic2Vzc2lvbiIsImd0IiwiYWRtaW5fdXNlcnMiLCJkZXN0cm95U2Vzc2lvbiIsImRlbGV0ZSIsImNsZWFudXBFeHBpcmVkU2Vzc2lvbnMiLCJsdCIsImxvZ0FjdGl2aXR5IiwiYWN0aW9uIiwicmVzb3VyY2UiLCJyZXNvdXJjZUlkIiwiZGV0YWlscyIsInJlc291cmNlX2lkIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwiZ2V0VXNlckJ5SWQiLCJzdXBhYmFzZSIsImhhc1Blcm1pc3Npb24iLCJwZXJtaXNzaW9uIiwiaW5pdGlhbGl6ZUF1dGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./src/lib/auth.ts\n");

/***/ })

});