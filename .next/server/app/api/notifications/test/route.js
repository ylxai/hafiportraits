"use strict";(()=>{var t={};t.id=267,t.ids=[267],t.modules={517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},546:(t,e,s)=>{s.r(e),s.d(e,{headerHooks:()=>m,originalPathname:()=>h,patchFetch:()=>b,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>f,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>g});var o={};s.r(o),s.d(o,{POST:()=>c});var i=s(5419),n=s(9108),r=s(9678),a=s(8070);async function c(t){try{let{token:e,title:s,body:o,data:i={}}=await t.json();if(!e)return a.Z.json({success:!1,error:"FCM token is required"},{status:400});let n={title:s||"\uD83E\uDDEA Test Notification",body:o||"This is a test notification from Hafi Portrait Admin Dashboard",icon:"/icons/icon-192x192.png",badge:"/icons/badge-72x72.png",data:{type:"test",url:"/admin",timestamp:new Date().toISOString(),testId:`test_${Date.now()}`,...i},actions:[{action:"view",title:"Open Dashboard"},{action:"dismiss",title:"Dismiss"}]},r=await u(e,n);if(r.success)return a.Z.json({success:!0,data:{message:"Test notification sent successfully",notificationId:n.data.testId,sentAt:n.data.timestamp}});return a.Z.json({success:!1,error:r.error},{status:500})}catch(t){return console.error("❌ Error sending test notification:",t),a.Z.json({success:!1,error:"Failed to send test notification"},{status:500})}}async function u(t,e){try{return console.log(`✅ Test notification sent to: ${t.substring(0,16)}...`),console.log("\uD83D\uDCE7 Notification content:",{title:e.title,body:e.body,data:e.data}),{success:!0}}catch(t){return console.error("❌ Error sending test notification:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}let d=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/notifications/test/route",pathname:"/api/notifications/test",filename:"route",bundlePath:"app/api/notifications/test/route"},resolvedPagePath:"/home/devbox/hafiportraits/src/app/api/notifications/test/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:p,staticGenerationAsyncStorage:l,serverHooks:f,headerHooks:m,staticGenerationBailout:g}=d,h="/api/notifications/test/route";function b(){return(0,r.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:l})}}};var e=require("../../../../webpack-runtime.js");e.C(t);var s=t=>e(e.s=t),o=e.X(0,[638,206],()=>s(546));module.exports=o})();